/* Enhanced Mobile Responsiveness System */

/* Responsive breakpoints */
:root {
    --breakpoint-sm: 640px;   /* Small devices */
    --breakpoint-md: 768px;   /* Medium devices */
    --breakpoint-lg: 1024px;  /* Large devices */
    --breakpoint-xl: 1280px;  /* Extra large devices */
    --breakpoint-2xl: 1536px; /* 2X large devices */
}

/* Container queries support */
.container {
    container-type: inline-size;
    width: 100%;
}

/* Mobile-first responsive grid */
.responsive-grid {
    display: grid;
    gap: 1rem;
    grid-template-columns: 1fr;
}

@media (min-width: 640px) {
    .responsive-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
    }
}

@media (min-width: 768px) {
    .responsive-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
    }
}

@media (min-width: 1024px) {
    .responsive-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* Responsive typography */
@media (max-width: 767px) {
    :root {
        --text-xs: 0.7rem;
        --text-sm: 0.8rem;
        --text-base: 0.9rem;
        --text-lg: 1rem;
        --text-xl: 1.1rem;
        --text-2xl: 1.3rem;
        --text-3xl: 1.6rem;
        --text-4xl: 2rem;
    }
}

/* Mobile navigation improvements */
@media (max-width: 768px) {
    .main-navigation {
        flex-direction: column;
        gap: 12px;
        padding: 12px 16px;
    }
    
    .nav-brand h2 {
        font-size: var(--text-lg);
        text-align: center;
    }
    
    .nav-links {
        flex-direction: column;
        width: 100%;
        gap: 8px;
    }
    
    .nav-link {
        justify-content: center;
        padding: 12px 16px;
        width: 100%;
    }
    
    .nav-actions {
        flex-wrap: wrap;
        justify-content: center;
        gap: 8px;
    }
    
    .analytics-button,
    .logout-button {
        min-width: 120px;
        justify-content: center;
    }
}

/* Mobile configuration page */
@media (max-width: 768px) {
    .configuration-page {
        padding: 12px;
    }
    
    .config-header {
        flex-direction: column;
        text-align: center;
        gap: 16px;
    }
    
    .header-stats {
        flex-direction: column;
        gap: 12px;
    }
    
    .stat-item {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        padding: 12px;
        background: var(--bg-secondary);
        border-radius: 8px;
    }
    
    .config-content {
        flex-direction: column;
        gap: 20px;
    }
    
    .config-sidebar {
        order: 2;
        min-width: 100%;
        max-width: 100%;
    }
    
    .config-main {
        order: 1;
        width: 100%;
    }
}

/* Mobile report search */
@media (max-width: 768px) {
    .report-search {
        margin-bottom: 16px;
    }
    
    .search-main {
        flex-direction: column;
        gap: 12px;
    }
    
    .search-input {
        font-size: 16px; /* Prevents zoom on iOS */
    }
    
    .filter-toggle {
        width: 100%;
        justify-content: center;
    }
    
    .search-stats {
        text-align: center;
        order: -1;
    }
    
    .filter-grid {
        grid-template-columns: 1fr;
        gap: 12px;
    }
    
    .filter-actions {
        flex-direction: column;
        gap: 8px;
    }
    
    .clear-filters,
    .collapse-filters {
        width: 100%;
    }
}

/* Mobile report viewer */
@media (max-width: 768px) {
    .report-viewer-page {
        padding: 12px;
    }
    
    .viewer-header {
        flex-direction: column;
        gap: 16px;
        text-align: center;
    }
    
    .header-content h1 {
        font-size: var(--text-xl);
    }
    
    .header-info {
        flex-direction: column;
        gap: 8px;
    }
    
    .header-actions {
        flex-direction: column;
        gap: 12px;
        width: 100%;
    }
    
    .config-button {
        width: 100%;
        justify-content: center;
    }
    
    .quick-stats {
        flex-wrap: wrap;
        justify-content: center;
        gap: 8px;
    }
    
    .grid-layout {
        grid-template-columns: 1fr !important;
        gap: 16px;
    }
    
    .report-panel {
        margin-bottom: 16px;
    }
    
    .panel-header {
        flex-direction: column;
        gap: 12px;
    }
    
    .panel-controls {
        justify-content: center;
        flex-wrap: wrap;
    }
}

/* Mobile analytics dashboard */
@media (max-width: 768px) {
    .analytics-overlay {
        padding: 8px;
    }
    
    .analytics-dashboard {
        max-height: 95vh;
        width: 100%;
        margin: 0;
    }
    
    .analytics-header {
        padding: 16px;
        flex-direction: column;
        gap: 12px;
    }
    
    .header-content {
        flex-direction: column;
        gap: 8px;
        text-align: center;
    }
    
    .metrics-grid {
        grid-template-columns: 1fr;
        gap: 12px;
    }
    
    .metric-card {
        padding: 16px;
    }
    
    .analytics-grid {
        grid-template-columns: 1fr;
        gap: 16px;
    }
    
    .analytics-actions {
        flex-direction: column;
        gap: 8px;
    }
    
    .export-button,
    .refresh-button {
        width: 100%;
    }
}

/* Touch-friendly improvements */
@media (max-width: 768px) {
    /* Larger touch targets */
    button, .button, .nav-link {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Better spacing for touch */
    .button-group {
        gap: 12px;
    }
    
    /* Prevent zoom on inputs */
    input, select, textarea {
        font-size: 16px;
    }
    
    /* Better modal sizing */
    .modal, .overlay {
        padding: 16px;
    }
    
    .modal-content {
        max-height: 90vh;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }
}

/* Landscape phone adjustments */
@media (max-width: 768px) and (orientation: landscape) {
    .analytics-dashboard {
        max-height: 85vh;
    }
    
    .config-content {
        flex-direction: row;
    }
    
    .config-sidebar {
        order: 1;
        min-width: 300px;
        max-width: 400px;
    }
    
    .config-main {
        order: 2;
        flex: 1;
    }
}

/* Tablet improvements */
@media (min-width: 768px) and (max-width: 1024px) {
    .config-content {
        gap: 24px;
    }
    
    .config-sidebar {
        min-width: 320px;
        max-width: 380px;
    }
    
    .grid-layout.columns-3 {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .metrics-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* High DPI displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    /* Sharper borders and shadows */
    .card, .button, .panel {
        border-width: 0.5px;
    }
}

/* Accessibility improvements for mobile */
@media (max-width: 768px) {
    /* Focus indicators */
    button:focus,
    input:focus,
    select:focus {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
    }
    
    /* Better contrast for small text */
    .text-small,
    .caption {
        color: var(--text-secondary);
        font-weight: var(--font-medium);
    }
}

/* Container queries for responsive components */
@container (max-width: 300px) {
    .metric-card {
        flex-direction: column;
        text-align: center;
    }
    
    .metric-icon {
        align-self: center;
    }
}

@container (max-width: 400px) {
    .report-panel .panel-header {
        flex-direction: column;
        gap: 8px;
    }
}

/* Print styles */
@media print {
    .nav-actions,
    .config-sidebar,
    button:not(.print-button) {
        display: none !important;
    }
    
    .config-main {
        width: 100% !important;
    }
    
    .analytics-overlay {
        position: static !important;
        background: white !important;
    }
}
